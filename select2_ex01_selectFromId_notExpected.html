<html>
<head>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>

<style type='text/css'>
#select1 {
	width: 600px;
}
.select2-container .select2-selection--multiple {
	height: 300px;
}
</style>

<script type="text/javascript">
$(document).ready(function() { 

function randomHSL() {
    return 'hsla(' + (Math.random() * 360) + ', 50%, 50%, 1)';
}

data = [{id: 1, text: "tag A"}, 
	{id: 2, text: "tag B"},
	{id: 3, text: "tag C"},
	{id: 4, text: "tag D"},
	{id: 5, text: "tag E"},
	{id: 6, text: "tag F"}
];

//// id not number otherwise tags can be selected from their id so number
//data = [{id: "A", text: "tag A"}, 
//	{id: "B", text: "tag B"},
//	{id: "C", text: "tag C"},
//	{id: "D", text: "tag D"},
//	{id: "E", text: "tag E"},
//	{id: "F", text: "tag F"}
//];

for (var i=0; i<data.length; i++){
    data[i].color = '#' + randomHSL();
}
console.log(data);


$('#select1').select2({
  tags: true,
  data: data
//  templateResult: function(data) {
//        return data.text;
//  }, 
//  templateSelection: function(data, container) {
//	// http://stackoverflow.com/questions/24994726/set-a-different-color-for-each-tag
//  	$(container).css({ "background-color": data.color });	
//        return data.text;
//  }
})

});
</script>

</head>


<body>

<select id="select1" multiple="multiple"></select>

</body>
</html>
